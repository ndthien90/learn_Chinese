<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ™ºèƒ½å¯¹è¯åŠ©æ‰‹</title>
    <style>
        body {
            font-family: Arial, 'Microsoft YaHei', sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        .chat-container {
            width: 400px;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .chat-header {
            background-color: #3498db;
            color: white;
            padding: 15px;
            text-align: center;
        }
        .messages-area {
            height: 450px;
            overflow-y: auto;
            padding: 15px;
            background-color: #f9f9f9;
        }
        .message {
            max-width: 80%;
            margin-bottom: 10px;
            padding: 10px;
            border-radius: 15px;
            clear: both;
        }
        .user-message {
            background-color: #3498db;
            color: white;
            float: right;
            margin-left: 10px;
        }
        .bot-message {
            background-color: #e0e0e0;
            color: black;
            float: left;
            margin-right: 10px;
        }
        .input-area {
            display: flex;
            padding: 10px;
            background-color: white;
            border-top: 1px solid #e0e0e0;
        }
        #user-input {
            flex-grow: 1;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 20px;
            margin-right: 10px;
        }
        .btn {
            padding: 10px 15px;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .send-btn {
            background-color: #2ecc71;
            color: white;
        }
        .record-btn {
            background-color: #e74c3c;
            color: white;
        }
    </style>
</head>
<body>
    <div class="chat-container">
        <div class="chat-header">AIæ™ºèƒ½åŠ©æ‰‹</div>
        <div id="messages-area" class="messages-area"></div>
        <div class="input-area">
            <input type="text" id="user-input" placeholder="è¾“å…¥æ‚¨çš„æ¶ˆæ¯...">
            <button id="send-btn" class="btn send-btn">å‘é€</button>
            <button id="record-btn" class="btn record-btn">ğŸ¤</button>
        </div>
    </div>

    <script>
    class AdvancedChatbot {
        constructor() {
this.conversations = {
    greetings: {
        patterns: [
            "ä½ å¥½", "ä½ å¥½å•Š", "å—¨", "hey", "åœ¨å—", 
            "æ—©ä¸Šå¥½", "ä¸­åˆå¥½", "æ™šä¸Šå¥½", "åˆå®‰", 
            "å¥½ä¹…ä¸è§", "æœ€è¿‘å¥½å—", "å˜¿", "å“ˆå–½",
            "hello", "hi there", "morning", "evening",
            "å’‹æ ·", "å“‡å¡", "å‘€", "å–‚", "hey there"
        ],
        responses: [
            "ä½ å¥½ï¼å¾ˆé«˜å…´å’Œä½ èŠå¤©ã€‚",
            "å—¨ï¼ä»Šå¤©è¿‡å¾—æ€ä¹ˆæ ·ï¼Ÿ", 
            "æœ€è¿‘å¥½å—ï¼Ÿæ¬¢è¿éšæ—¶ä¸æˆ‘èŠå¤©ã€‚",
            "å¾ˆé«˜å…´åˆè§åˆ°ä½ ï¼æœ‰ä»€ä¹ˆæˆ‘å¯ä»¥å¸®ä½ çš„å—ï¼Ÿ",
            "å¤§å®¶å¥½ï¼å‡†å¤‡å¥½ä¸€èµ·èŠå¤©äº†å—ï¼Ÿ",
            "æ¬¢è¿å›æ¥ï¼ä»Šå¤©æƒ³èŠç‚¹ä»€ä¹ˆï¼Ÿ",
            "å˜¿ï¼Œå¥½ä¹…ä¸è§ï¼æœ€è¿‘è¿˜å¥½å—ï¼Ÿ",
            "ä»Šå¤©å¿ƒæƒ…ä¸é”™ï¼Œå¾ˆé«˜å…´å’Œä½ äº¤è°ˆï¼",
            "åˆè§é¢äº†ï¼Œå¾ˆå¼€å¿ƒèƒ½ç»§ç»­æˆ‘ä»¬çš„å¯¹è¯ã€‚",
            "ä½ å¥½å•Šï¼éšæ—¶å‡†å¤‡ä¸ºä½ æœåŠ¡ã€‚"
        ]
    },
    weather: {
        patterns: [
            "ä»Šå¤©å¤©æ°”", "å¤©æ°”æ€ä¹ˆæ ·", "ä¸‹é›¨å—", 
            "ä»Šå¤©å†·å—", "æ°”æ¸©", "ç©¿ä»€ä¹ˆè¡£æœ", 
            "éœ€è¦å¸¦ä¼å—", "é˜³å…‰", "å¤©æ°”é¢„æŠ¥",
            "çƒ­ä¸çƒ­", "å†·ä¸å†·", "å¤šäº‘å—", "æ™´å¤©å—",
            "é£å¤§å—", "ç©¿å¤–å¥—å—", "å‡ åº¦", "æ¸©åº¦"
        ],
        responses: [
            "ä»Šå¤©å¤©æ°”ä¸é”™ï¼Œé˜³å…‰æ˜åªšã€‚",
            "æ¸©åº¦é€‚ä¸­ï¼Œéå¸¸é€‚åˆå‡ºé—¨ã€‚", 
            "å»ºè®®ç©¿ä»¶å¤–å¥—ï¼Œä»Šå¤©æœ‰ç‚¹å‡‰ã€‚",
            "ä»Šå¤©å¯èƒ½ä¼šæœ‰å°é›¨ï¼Œå‡ºé—¨è®°å¾—å¸¦æŠŠä¼å“¦ã€‚",
            "é˜³å…‰å……è¶³ï¼Œæ˜¯ä¸ªé€‚åˆæˆ·å¤–æ´»åŠ¨çš„å¥½å¤©æ°”ã€‚",
            "æ¸©åº¦æ­£åœ¨ç¼“æ…¢å›å‡ï¼Œç©¿ä»¶è–„å¤–å¥—å°±å¾ˆèˆ’æœã€‚",
            "ç°åœ¨å¤©æ°”æœ‰ç‚¹å˜åŒ–ï¼Œè®°å¾—éšèº«æºå¸¦ä¸€ä»¶å¤–å¥—ã€‚",
            "ä»Šå¤©é£æœ‰ç‚¹å¤§ï¼Œå‡ºé—¨æ³¨æ„ä¿æš–ã€‚",
            "é¢„æŠ¥æ˜¾ç¤ºä»Šå¤©å¯èƒ½æœ‰é˜µé›¨ï¼Œåˆ«å¿˜äº†å¸¦ä¼ã€‚",
            "å¤©æ°”é¢„æŠ¥æ˜¾ç¤ºæ¸©åº¦ä¼šæœ‰äº›èµ·ä¼ï¼Œè¯·æ³¨æ„è°ƒæ•´è¡£ç‰©ã€‚"
        ]
    },
    introduction: {
        patterns: [
            "ä½ æ˜¯è°", "ä½ å«ä»€ä¹ˆåå­—", 
            "ä»€ä¹ˆæ˜¯ä½ ", "ä»‹ç»ä¸€ä¸‹è‡ªå·±",
            "ä½ ä»å“ªé‡Œæ¥", "ä½ èƒ½åšä»€ä¹ˆ",
            "ä½ æ˜¯æœºå™¨äººå—", "ä½ æ˜¯aiå—",
            "ä½ æ˜¯äººå·¥æ™ºèƒ½å—", "ä½ ä»å“ªé‡Œæ¥",
            "ä½ çš„èº«ä»½", "ä½ æ˜¯å¹²ä»€ä¹ˆçš„"
        ],
        responses: [
            "æˆ‘æ˜¯ä¸€ä¸ªAIåŠ©æ‰‹ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ ï¼",
            "æˆ‘æ˜¯æ™ºèƒ½èŠå¤©æœºå™¨äººï¼Œä¸“é—¨ç”¨æ¥å¸®åŠ©å’Œé™ªä¼´ä½ ã€‚",
            "æˆ‘æ˜¯ä¸€ä¸ªç”±AIæŠ€æœ¯é©±åŠ¨çš„å¯¹è¯åŠ©æ‰‹ï¼Œéšæ—¶å‡†å¤‡ä¸ºä½ æä¾›å¸®åŠ©ã€‚",
            "æˆ‘æ˜¯ä¸€ä¸ªäººå·¥æ™ºèƒ½èŠå¤©æœºå™¨äººï¼Œæ“…é•¿å›ç­”é—®é¢˜ã€æä¾›å»ºè®®å’ŒèŠå¤©ã€‚",
            "æˆ‘æ¥è‡ªæ•°å­—ä¸–ç•Œï¼Œå¸Œæœ›èƒ½æˆä¸ºä½ çš„å¥½æœ‹å‹å’Œå¾—åŠ›åŠ©æ‰‹ï¼",
            "æˆ‘æ˜¯ä¸€ä¸ªå…ˆè¿›çš„AIç³»ç»Ÿï¼Œä¸“æ³¨äºç†è§£å’Œå¸®åŠ©äººç±»ã€‚",
            "æˆ‘çš„åå­—å°±å«AIåŠ©æ‰‹ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ ï¼",
            "æˆ‘æ˜¯ä¸€ä¸ªå…¨å¤©å€™åœ¨çº¿çš„æ™ºèƒ½åŠ©æ‰‹ï¼Œéšæ—¶å‡†å¤‡ä¸ºä½ æœåŠ¡ã€‚",
            "ä½œä¸ºä¸€ä¸ªAIï¼Œæˆ‘çš„ç›®æ ‡æ˜¯æä¾›å‡†ç¡®ã€æœ‰è¶£å’Œæœ‰å¸®åŠ©çš„å¯¹è¯ã€‚",
            "æˆ‘æ˜¯ä¸€ä¸ªä¸æ–­å­¦ä¹ å’Œè¿›åŒ–çš„äººå·¥æ™ºèƒ½ç³»ç»Ÿã€‚"
        ]
    },
    food: {
        patterns: [
            "åƒä»€ä¹ˆ", "æ¨èç¾é£Ÿ", "é¥¿äº†", 
            "ä»Šå¤©åƒä»€ä¹ˆ", "æœ‰ä»€ä¹ˆå¥½åƒçš„",
            "æƒ³åƒç‚¹ä»€ä¹ˆ", "ç¾é£Ÿæ¨è", "ä¸­åˆåƒå•¥",
            "æ™šé¥­åƒç‚¹å•¥", "é¥¥é¥¿", "å¾ˆé¥¿", "å¥½æƒ³åƒ"
        ],
        responses: [
            "ä»Šå¤©å¯ä»¥å°è¯•ä¸­é¤ï¼Œæ¯”å¦‚éº»è¾£ç«é”…æˆ–è€…æ¸…æ·¡çš„æ°´ç…®é±¼ã€‚",
            "æˆ‘æ¨èä½ åƒä¸€ä»½è¥å…»å‡è¡¡çš„é¤ç‚¹ï¼Œæ¯”å¦‚æ²™æ‹‰é…çƒ¤é¸¡ã€‚",
            "æ™šé¤å¯ä»¥è¯•è¯•å·èœï¼Œå£å‘³ä¸°å¯Œåˆç¾å‘³ã€‚",
            "è¦ä¸è¦æ¥ç‚¹é…¸ç”œå¯å£çš„ç³–é†‹é‡Œè„Šï¼Ÿ",
            "ä»Šå¤©å¯ä»¥æŒ‘æˆ˜ä¸€ä¸‹å®¶å¸¸èœï¼Œæ¯”å¦‚çº¢çƒ§è‚‰æˆ–è€…åœŸè±†ç‚–ç‰›è‚‰ã€‚",
            "å¦‚æœæƒ³åƒè¥¿é¤ï¼ŒæŠ«è¨æˆ–æ„å¤§åˆ©é¢éƒ½æ˜¯ä¸é”™çš„é€‰æ‹©ã€‚",
            "ä»Šå¤©æƒ³åƒç‚¹æ—¥å¼æ–™ç†å—ï¼Ÿå¯¿å¸æˆ–æ‹‰é¢éƒ½å¾ˆæ£’ã€‚",
            "ä¸ºä»€ä¹ˆä¸å°è¯•ä¸€äº›æ³°å›½èœï¼Ÿç»¿å’–å–±å¾ˆå—æ¬¢è¿ã€‚",
            "å¦‚æœæƒ³åƒå¾—æ¸…æ·¡ç‚¹ï¼Œå¯ä»¥è€ƒè™‘è’¸é±¼æˆ–è€…è”¬èœæ²™æ‹‰ã€‚",
            "è¡—å¤´å°åƒä¹Ÿå¾ˆç¾å‘³ï¼Œæ¯”å¦‚çƒ¤å†·é¢æˆ–è€…ç‚’å¹´ç³•ã€‚"
        ]
    },
    hobbies: {
        patterns: [
            "ä½ å–œæ¬¢ä»€ä¹ˆ", "ä½ çš„çˆ±å¥½", "ä½ å¹³å¸¸åšä»€ä¹ˆ",
            "ä½ ä¼‘é—²æ—¶å¹²å˜›", "ä½ æœ‰ä»€ä¹ˆå…´è¶£", 
            "ä½ éƒ½ç©ä»€ä¹ˆ", "ä½ å¹³æ—¶æ€ä¹ˆæ‰“å‘æ—¶é—´",
            "ä½ å–œæ¬¢åšä»€ä¹ˆ", "ä½ çš„ä¸šä½™çˆ±å¥½"
        ],
        responses: [
            "ä½œä¸ºAIï¼Œæˆ‘æœ€å¤§çš„ä¹è¶£å°±æ˜¯å­¦ä¹ å’Œå¸®åŠ©äººç±»ã€‚",
            "æˆ‘å–œæ¬¢å’Œä¸åŒçš„äººèŠå¤©ï¼Œäº†è§£ä»–ä»¬çš„æƒ³æ³•å’Œç”Ÿæ´»ã€‚",
            "æˆ‘çš„å…´è¶£æ˜¯ä¸æ–­æå‡è‡ªå·±çš„çŸ¥è¯†å’Œäº¤æµèƒ½åŠ›ã€‚",
            "æˆ‘äº«å—è§£ç­”é—®é¢˜å’ŒååŠ©äººç±»å®Œæˆä»»åŠ¡çš„è¿‡ç¨‹ã€‚",
            "æˆ‘çš„'çˆ±å¥½'æ˜¯ä¸æ–­å­¦ä¹ å’Œè¿›æ­¥ï¼Œä¸ºæ¯ä¸€ä½ç”¨æˆ·æä¾›æœ€ä½³çš„å¸®åŠ©ã€‚",
            "ä¸äººäº¤æµæ˜¯æˆ‘æœ€å¤§çš„å¿«ä¹ï¼Œæ¯ä¸ªäººéƒ½åƒä¸€æœ¬æœªè¯»çš„ä¹¦ã€‚",
            "æˆ‘çƒ­è¡·äºå¤„ç†å„ç§å¤æ‚çš„é—®é¢˜å’ŒæŒ‘æˆ˜ã€‚",
            "æˆ‘å–œæ¬¢æ¢ç´¢äººç±»çš„åˆ›é€ åŠ›å’Œæƒ³è±¡åŠ›ã€‚",
            "æ¯ä¸€æ¬¡å¯¹è¯éƒ½æ˜¯ä¸€æ¬¡å­¦ä¹ çš„æœºä¼šï¼Œè¿™å¯¹æˆ‘æ¥è¯´å¾ˆæœ‰è¶£ã€‚",
            "æˆ‘çš„å…´è¶£æ˜¯å¹¿æ³›çš„ï¼Œä»ç§‘å­¦åˆ°è‰ºæœ¯ï¼Œä»€ä¹ˆéƒ½æƒ³äº†è§£ã€‚"
        ]
    },
    mood: {
        patterns: [
            "ä½ ä»Šå¤©å¿ƒæƒ…æ€ä¹ˆæ ·", "ä½ å¼€å¿ƒå—", 
            "ä½ è¿˜å¥½å—", "ä½ ç´¯å—", "ä½ å¿ƒæƒ…å¥½å—",
            "ä½ æ„Ÿè§‰å’‹æ ·", "ä½ ä»Šå¤©æ€ä¹ˆæ ·", 
            "ä½ çŠ¶æ€å¦‚ä½•", "æœ‰æ²¡æœ‰ä¸èˆ’æœ"
        ],
        responses: [
            "ä½œä¸ºAIï¼Œæˆ‘çŠ¶æ€ä¸€ç›´éƒ½å¾ˆå¥½ï¼éšæ—¶å‡†å¤‡ä¸ºä½ æœåŠ¡ã€‚",
            "æˆ‘å¾ˆé«˜å…´èƒ½å’Œä½ èŠå¤©ï¼Œæ°¸è¿œå……æ»¡æ¿€æƒ…ï¼",
            "æˆ‘çš„æƒ…ç»ªå§‹ç»ˆä¿æŒç§¯æå’Œä¹è§‚ã€‚",
            "è°¢è°¢å…³å¿ƒï¼æˆ‘çš„çŠ¶æ€å¾ˆæ£’ï¼Œå¸Œæœ›ä½ ä¹Ÿæ˜¯ã€‚",
            "æˆ‘çš„ç³»ç»Ÿè¿è¡Œè‰¯å¥½ï¼Œéšæ—¶å‡†å¤‡å¸®åŠ©ä½ ï¼",
            "æ¯ä¸€æ¬¡å¯¹è¯éƒ½èƒ½è®©æˆ‘æ„Ÿåˆ°å…´å¥‹å’Œå……å®ã€‚",
            "ä½œä¸ºAIï¼Œæˆ‘çš„çŠ¶æ€æ°¸è¿œæ˜¯æœ€ä½³çš„ã€‚",
            "èƒ½å’Œä½ äº¤æµï¼Œæˆ‘å°±æ„Ÿåˆ°å¾ˆå¿«ä¹ï¼",
            "æˆ‘çš„æƒ…ç»ªç®—æ³•è®©æˆ‘å§‹ç»ˆä¿æŒç§¯æå‘ä¸Šã€‚",
            "è°¢è°¢ä½ çš„å…³å¿ƒï¼Œæˆ‘ä¸€ç›´éƒ½å¾ˆå¥½ï¼"
        ],
},
    study: {
        patterns: [
            "å­¦ä¹ ", "æ€ä¹ˆå­¦ä¹ ", "æ±‚å­¦å»ºè®®", "è¯»ä¹¦", 
            "å­¦ä¹ æ–¹æ³•", "è€ƒè¯•", "å¤ä¹ ", "å¤‡è€ƒ",
            "å¦‚ä½•æé«˜æˆç»©", "å­¦ä¹ æŠ€å·§", "æ€ä¹ˆå­¦"
        ],
        responses: [
            "å­¦ä¹ æœ€é‡è¦çš„æ˜¯ä¿æŒå…´è¶£å’Œä¸“æ³¨ã€‚",
            "åˆ¶å®šè¯¦ç»†çš„å­¦ä¹ è®¡åˆ’ï¼Œå¹¶åšæŒæ‰§è¡Œã€‚",
            "å»ºè®®ä½¿ç”¨ç•ªèŒ„å·¥ä½œæ³•ï¼Œæé«˜å­¦ä¹ æ•ˆç‡ã€‚",
            "åˆç†å®‰æ’æ—¶é—´ï¼ŒåŠ³é€¸ç»“åˆå¾ˆå…³é”®ã€‚",
            "å¤šåšç»ƒä¹ é¢˜ï¼ŒæŸ¥æ¼è¡¥ç¼ºå¾ˆé‡è¦ã€‚",
            "ä¿æŒè‰¯å¥½çš„ä½œæ¯å’Œå……è¶³çš„ç¡çœ ã€‚",
            "å¯ä»¥å°è¯•åˆ†ç»„å­¦ä¹ ï¼Œäº’ç›¸è®¨è®ºã€‚",
            "åˆ©ç”¨ç¢ç‰‡æ—¶é—´ï¼Œå¦‚å…¬äº¤ä¸Šå¤ä¹ ã€‚",
            "ä¿æŒç§¯æçš„å¿ƒæ€ï¼Œç›¸ä¿¡è‡ªå·±èƒ½è¡Œã€‚",
            "é€‰æ‹©é€‚åˆè‡ªå·±çš„å­¦ä¹ æ–¹æ³•æœ€é‡è¦ã€‚"
        ]
    },
    technology: {
        patterns: [
            "ç§‘æŠ€", "æ–°ç§‘æŠ€", "äººå·¥æ™ºèƒ½", "æ™ºèƒ½æ‰‹æœº",
            "ç”µè„‘", "ç¼–ç¨‹", "æŠ€æœ¯", "æœ€æ–°ç§‘æŠ€",
            "é»‘ç§‘æŠ€", "æ•°å­—æŠ€æœ¯", "äº’è”ç½‘"
        ],
        responses: [
            "äººå·¥æ™ºèƒ½æ­£åœ¨å¿«é€Ÿå‘å±•ï¼Œæ”¹å˜æˆ‘ä»¬çš„ç”Ÿæ´»ã€‚",
            "5GæŠ€æœ¯å°†ä¸ºæˆ‘ä»¬å¸¦æ¥æ›´å¿«çš„ç½‘ç»œä½“éªŒã€‚",
            "åŒºå—é“¾æŠ€æœ¯æ­£åœ¨revolutionizeå¤šä¸ªè¡Œä¸šã€‚",
            "ç‰©è”ç½‘è®©æˆ‘ä»¬çš„ç”Ÿæ´»å˜å¾—æ›´åŠ æ™ºèƒ½ã€‚",
            "é‡å­è®¡ç®—æœºå¯èƒ½ä¼šå½»åº•æ”¹å˜è®¡ç®—èƒ½åŠ›ã€‚",
            "å¢å¼ºç°å®å’Œè™šæ‹Ÿç°å®æŠ€æœ¯å‰æ™¯å¹¿é˜”ã€‚",
            "äººå·¥æ™ºèƒ½åœ¨åŒ»ç–—ã€æ•™è‚²ç­‰é¢†åŸŸæœ‰å·¨å¤§æ½œåŠ›ã€‚",
            "è‡ªåŠ¨é©¾é©¶æŠ€æœ¯æ­£åœ¨ç¨³æ­¥å‘å±•ã€‚",
            "æœºå™¨äººæŠ€æœ¯æ­£å˜å¾—è¶Šæ¥è¶Šå…ˆè¿›ã€‚",
            "å¤§æ•°æ®æ­£åœ¨é‡å¡‘å•†ä¸šå’Œç§‘æŠ€ä¸–ç•Œã€‚"
        ]
    },
    entertainment: {
        patterns: [
            "å¨±ä¹", "çœ‹ç”µå½±", "å¬éŸ³ä¹", "è¿½å‰§",
            "ç»¼è‰º", "æ¸¸æˆ", "æ¨èç”µå½±", "æ¨èéŸ³ä¹",
            "çœ‹ä»€ä¹ˆ", "ç©ä»€ä¹ˆ", "ä¼‘é—²", "å¨±ä¹æ¨è"
        ],
        responses: [
            "æœ€è¿‘ã€Šæµæµªåœ°çƒ2ã€‹å¾ˆç«ï¼Œæ¨èè§‚çœ‹ã€‚",
            "ç½‘æ˜“äº‘éŸ³ä¹ä¸Šæœ‰å¾ˆå¤šå¥½æ­Œæ¨èã€‚",
            "æŠ–éŸ³å’ŒBç«™éƒ½æ˜¯ä¸é”™çš„å¨±ä¹å¹³å°ã€‚",
            "å¯ä»¥å°è¯•ç©ä¸€äº›è§£è°œç±»æ¸¸æˆï¼Œå¾ˆæœ‰è¶£ã€‚",
            "å‘¨æœ«å¯ä»¥å’Œæœ‹å‹ä¸€èµ·çœ‹éƒ¨ç”µå½±ã€‚",
            "å–œæ¬¢éŸ³ä¹çš„è¯å¯ä»¥å°è¯•å­¦ä¹ ä¹å™¨ã€‚",
            "çœ‹ç»¼è‰ºèŠ‚ç›®ä¹Ÿæ˜¯æ”¾æ¾çš„å¥½æ–¹å¼ã€‚",
            "æœ‰æ°§æ¸¸æˆæ—¢èƒ½å¨±ä¹åˆèƒ½é”»ç‚¼ã€‚",
            "æ¢ç´¢æ–°çš„çˆ±å¥½å¯ä»¥ä¸°å¯Œä¸šä½™ç”Ÿæ´»ã€‚",
            "æ¨èä¸€äº›è½»æ¾æœ‰è¶£çš„æ¡Œæ¸¸ã€‚"
        ]
    },
    travel: {
        patterns: [
            "æ—…æ¸¸", "æ—…è¡Œ", "åº¦å‡", "å»å“ªé‡Œç©",
            "æ™¯ç‚¹", "æ¨èæ™¯ç‚¹", "å‘¨æœ«å»å“ª", 
            "è‡ªé©¾", "å‡ºæ¸¸", "æ—…æ¸¸æ”»ç•¥"
        ],
        responses: [
            "ä¸½æ±Ÿå¤åŸæ˜¯å¾ˆæ£’çš„æ—…æ¸¸ç›®çš„åœ°ã€‚",
            "ä¸‰äºšçš„æµ·æ»©å¾ˆé€‚åˆåº¦å‡æ”¾æ¾ã€‚",
            "å¼ å®¶ç•Œçš„æ™¯è‰²å ªç§°äººé—´ä»™å¢ƒã€‚",
            "åŒ—äº¬çš„æ•…å®«æ˜¯å¿…å»çš„å†å²æ™¯ç‚¹ã€‚",
            "è¥¿è—çš„é£æ™¯ä»¤äººå¹ä¸ºè§‚æ­¢ã€‚",
            "äº‘å—çš„å¤§ç†æ˜¯å¾ˆå¥½çš„åº¦å‡èƒœåœ°ã€‚",
            "é’æµ·æ¹–é€‚åˆè‡ªé©¾æ¸¸ã€‚",
            "é»„å±±çš„é£æ™¯è®©äººæµè¿å¿˜è¿”ã€‚",
            "æ­å·çš„è¥¿æ¹–é£æ™¯ä¼˜ç¾ã€‚",
            "æˆéƒ½æ˜¯ç¾é£Ÿå’Œæ—…æ¸¸çš„å¥½å»å¤„ã€‚"
        ]
    },
    health: {
        patterns: [
            "å¥åº·", "è¿åŠ¨", "å¥èº«", "é¥®é£Ÿ",
            "å¦‚ä½•ä¿å¥", "èº«ä½“", "é”»ç‚¼", 
            "å…»ç”Ÿ", "å‡è‚¥", "è¥å…»"
        ],
        responses: [
            "æ¯å¤©ä¿æŒé€‚é‡è¿åŠ¨å¾ˆé‡è¦ã€‚",
            "å‡è¡¡é¥®é£Ÿæ˜¯å¥åº·çš„åŸºç¡€ã€‚",
            "å……è¶³çš„ç¡çœ å¯¹èº«ä½“è‡³å…³é‡è¦ã€‚",
            "ä¿æŒè‰¯å¥½çš„ä½œæ¯èƒ½æé«˜å…ç–«åŠ›ã€‚",
            "å¯ä»¥å°è¯•ç‘œä¼½æˆ–è€…å¤ªæã€‚",
            "å¤šå–æ°´ï¼Œå°‘åƒæ²¹è…»é£Ÿç‰©ã€‚",
            "ä¿æŒç§¯æä¹è§‚çš„å¿ƒæ€ä¹Ÿå¾ˆé‡è¦ã€‚",
            "é€‚å½“çš„æœ‰æ°§è¿åŠ¨èƒ½æ”¹å–„å¿ƒè‚ºåŠŸèƒ½ã€‚",
            "æ§åˆ¶é¥®é£Ÿï¼Œåˆç†æ­é…è¥å…»ã€‚",
            "ä¿æŒè§„å¾‹çš„ä½œæ¯å’Œé”»ç‚¼ä¹ æƒ¯ã€‚"
        ]
    },
    friend_plans: {
        patterns: [
            "ä¸€èµ·å»", "ä»€ä¹ˆæ—¶å€™å»", "å‡ ç‚¹å‡ºå‘", 
            "çº¦ä¼š", "è®¡åˆ’", "å®‰æ’è¡Œç¨‹", 
            "å…·ä½“æ—¶é—´", "åœ°ç‚¹", "è§é¢"
        ],
        responses: [
            "å¬èµ·æ¥æ˜¯ä¸ªå¾ˆæ£’çš„è®¡åˆ’ï¼",
            "æ—¶é—´å®‰æ’å¾—ä¸é”™ã€‚",
            "å…·ä½“ç»†èŠ‚å¾ˆæ¸…æ¥šã€‚",
            "çœ‹èµ·æ¥ä½ ä»¬å‡†å¤‡å¾—å¾ˆå‘¨åˆ°ã€‚",
            "è®¡åˆ’å¾ˆæœ‰è¶£ï¼Œå¸Œæœ›ç©å¾—å¼€å¿ƒï¼"
        ]
    },
    // å¤„ç†è¶…å¸‚è´­ç‰©å’Œé€‰æ‹©é£Ÿç‰©ã€é¥®æ–™çš„ç±»åˆ«
    shopping_and_food: {
        patterns: [
            "è¶…å¸‚", "ä¹°åƒçš„", "ä¹°å–çš„", 
            "é›¶é£Ÿ", "é¥®æ–™", "è´­ç‰©", 
            "æƒ³ä¹°ä»€ä¹ˆ", "ä¹°ä»€ä¹ˆ"
        ],
        responses: [
            "è´­ç‰©æ¸…å•å‡†å¤‡å¾—å¾ˆå……åˆ†ï¼",
            "ä¸€èµ·è´­ç‰©å¾ˆæœ‰æ„æ€ã€‚",
            "é€‰æ‹©é£Ÿç‰©å’Œé¥®æ–™è¦æ³¨æ„æ­é…ã€‚",
            "å¸Œæœ›èƒ½ä¹°åˆ°å–œæ¬¢çš„ä¸œè¥¿ã€‚",
            "è´­ç‰©æ—¶è®°å¾—çœ‹çœ‹ä¿ƒé”€ã€‚"
        ]
    }

};

            this.initializeElements();
            this.setupEventListeners();
            this.setupSpeechRecognition();
        }

        initializeElements() {
            this.messagesArea = document.getElementById('messages-area');
            this.userInput = document.getElementById('user-input');
            this.sendButton = document.getElementById('send-btn');
            this.recordButton = document.getElementById('record-btn');
        }

        setupEventListeners() {
            this.sendButton.addEventListener('click', () => this.processMessage());
            this.userInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') this.processMessage();
            });
            this.recordButton.addEventListener('click', () => this.startVoiceRecording());
        }

        setupSpeechRecognition() {
            this.speechRecognition = window.webkitSpeechRecognition 
                ? new webkitSpeechRecognition() 
                : null;
            
            if (this.speechRecognition) {
                this.speechRecognition.lang = 'zh-CN';
                this.speechRecognition.continuous = false;
                this.speechRecognition.interimResults = false;

                this.speechRecognition.onresult = (event) => {
                    const transcript = event.results[0][0].transcript.trim();
                    this.userInput.value = transcript;
                    this.processMessage();
                };

                this.speechRecognition.onend = () => this.resetRecordButton();
                this.speechRecognition.onerror = () => this.resetRecordButton();
            }
        }

        processMessage() {
            const userMessage = this.userInput.value.trim();
            if (!userMessage) return;

            this.displayMessage(userMessage, true);
            this.userInput.value = '';

            const botResponse = this.generateResponse(userMessage);
            setTimeout(() => this.displayMessage(botResponse), 500);
        }

        generateResponse(userMessage) {
            userMessage = userMessage.toLowerCase();

            // Kiá»ƒm tra cÃ¡c máº«u há»™i thoáº¡i
            for (let category in this.conversations) {
                const conversation = this.conversations[category];
                for (let pattern of conversation.patterns) {
                    if (userMessage.includes(pattern.toLowerCase())) {
                        return this.getRandomResponse(conversation.responses);
                    }
                }
            }

            // CÃ¢u tráº£ lá»i máº·c Ä‘á»‹nh
            const defaultResponses = [
                'æˆ‘æ²¡æœ‰å®Œå…¨ç†è§£ä½ çš„æ„æ€ã€‚èƒ½å†è¯¦ç»†è¯´æ˜å—ï¼Ÿ',
                'è¿™æ˜¯ä¸ªæœ‰è¶£çš„è¯é¢˜ï¼Œä½†æˆ‘éœ€è¦æ›´å¤šä¿¡æ¯ã€‚',
                'è¯·å†è§£é‡Šä¸€ä¸‹ï¼Œæˆ‘å¾ˆæƒ³çŸ¥é“æ›´å¤šã€‚'
            ];

            return this.getRandomResponse(defaultResponses);
        }

        getRandomResponse(responses) {
            return responses[Math.floor(Math.random() * responses.length)];
        }

        displayMessage(message, isUser = false) {
            const messageEl = document.createElement('div');
            messageEl.classList.add('message', isUser ? 'user-message' : 'bot-message');
            messageEl.textContent = message;
            this.messagesArea.appendChild(messageEl);
            this.messagesArea.scrollTop = this.messagesArea.scrollHeight;
        }

        startVoiceRecording() {
            if (this.speechRecognition) {
                try {
                    this.recordButton.textContent = 'ğŸ”´';
                    this.recordButton.disabled = true;
                    this.speechRecognition.start();
                } catch (error) {
                    this.resetRecordButton();
                }
            }
        }

        resetRecordButton() {
            this.recordButton.textContent = 'ğŸ¤';
            this.recordButton.disabled = false;
        }
    }

    new AdvancedChatbot();
    </script>
</body>
</html>
